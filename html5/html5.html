<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<script src='../jquery/jquery/jquery-1.8.2.min.js'></script>
<script type="text/javascript">
var storage = window.localStorage;
function OnLoad() {
	if(window.localStorage) {
		// alert('This browser supports localStorage');
	} else {
		alert('This browser does NOT support localStorage');
		return;
	}
	
	// 这里每次刷新都会将此值+1
	if (!storage.getItem("pageLoadCount")) 
		storage.setItem("pageLoadCount",0);
		
	storage.pageLoadCount = parseInt(storage.getItem("pageLoadCount")) + 1;//必须格式转换
	document.getElementById("count").innerHTML = storage.pageLoadCount;
	
	// JSON 的本地存储
	var details = {author:"tanshunfu","description":"fresheggs","rating":100};
	storage.setItem("details",JSON.stringify(details));
	var details_ = JSON.parse(storage.getItem("details"));
	document.getElementById("author").innerHTML = details_.author;
}



function showStorage(){
	for(var i=0;i<storage.length;i++){
		document.write(storage.key(i)+ " : " + storage.getItem(storage.key(i)) + "<br>");
	}
}
</script>
<title>HTML5_TEST</title>
You have view this page: <span id="count"></span> time(s).<br>
author:<span id="author"></span>
</head>
<body onload="OnLoad()">

</body>
</html>